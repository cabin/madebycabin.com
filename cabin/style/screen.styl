@import nib
@import default
@import util

cabin_black = #2b2b2b
cabin_grey_dark = #929292
cabin_grey_med = #d2d2d2
cabin_grey_light = #f2f2f2
cabin_mustard = #edbc13

// Common

body
  color: cabin_black
  font: 13px/16px Helvetica Neue, Helvetica, sans-serif;

a
  text-decoration: none

header
  fixed: top left
  right: 0
  z-index: 2
  h1, > a
    font-size: 13px
    font-weight: bold
    text-transform: uppercase
  .logo
    hide-text()
    display: inline-block

#splash
  display: none
  fixed: top left
  right: 0

.splash-visible
  /*
  header
    top: auto
    bottom: 0
  */
  #splash
    display: block


.content
  transition: transform 2s


// iPhone 5 landscape and smaller.
@media only screen and (max-width: 568px)
  header_height = 40px
  header
    background: cabin_black
    display: table
    width: 100%
    line-height: header_height
    h1, > a
      light-text()
      color: #fff
      display: table-cell
      text-align: center
      width: 25%
    > a
      border-left: 1px solid black
      hr
        display: none
    .logo
      src = 'symbol-white.png'
      s = image-size(src)
      background-image: url(src)
      background-size: s[0] s[1]
      size: s[0] s[1]
      vertical-align: text-bottom

  #splash
    bottom: header_height
  .content
    margin-top: header_height

  footer
    display: none


// Larger than iPhone 5 landscape.
@media only screen and (min-width: 569px)
  header_height = 90px
  header
    background: #fff
    border-bottom: 1px solid cabin_grey_light
    line-height: (header_height / 3)
    padding: @line-height
    text-align: right
    h1, > a
      color: cabin_black
      display: inline-block
    h1
      float: left
      margin: 0
    > a
      margin-left: 10px
      position: relative
      padding: 0 10px
      hr
        absolute: top left
        background: cabin_black
        border: none
        margin: 0
        size: 0 1px
        transition: width 200ms
      &:hover hr
        width: 100%
    .logo
      src = 'symbol-black.png'
      s = image-size(src)
      background-image: url(src)
      background-size: s[0] s[1]
      size: s[0] s[1]
    .logo:hover
      background-image: url('symbol-hover.png')

  #splash
    bottom: header_height
  .content
    margin-top: header_height

  footer
    background: cabin_black
    padding: 30px
    &, a
      color: black
    &:hover, &:hover a
      color: cabin_grey_dark
      transition: color 100ms ease-in
    a:hover
      color: cabin_mustard
      transition: none
    fixed: bottom left
    right: 0



/*
nav
  background: cabin_grey
  line-height: 30px
  .logo
    hide-text()
    image: 'logo.png'
    size: image-size('logo.png')[0] image-size('logo.png')[1]
    display: inline-block
  ol
    margin: 0
    padding: 0
    float: right
    width: 75%
    outline: 2px solid white
    display: table

    li
      outline: 1px dashed black
      display: table-cell
      float: none
      text-align: center
      width: 33%
    a
      outline: 1px solid red
      display: block
      color: #fff
      width: 100%
*/

/*
nav
  background: #fff
  line-height: 30px
  padding: 30px
  transition: all 1s
  fixed: top left
  right: 0
  a
    color: cabin_grey
    display: inline-block
    font-weight: bold
    text-decoration: none
    text-transform: uppercase
  ol
    inline-list()
    float: right
*/


// Helper for temporarily disabling transitions.
.no-transition
  transition: none !important


// Neither CSS nor Stylus reliably supports nested media queries, so here we go
// with Retina images.  XXX it works if you use a & immediately inside the nest
@media only screen and (max-width: 568px) and (-webkit-min-device-pixel-ratio: 1.5)
  header .logo
    background-image: url('symbol-white@2x.png')

@media only screen and (min-width: 569px) and (-webkit-min-device-pixel-ratio: 1.5)
  header .logo
    background-image: url('symbol-black@2x.png')
    &:hover
      background-image: url('symbol-hover@2x.png')
